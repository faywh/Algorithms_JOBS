# 32.最常有效括号

题目：给定一个只包含 `'('` 和 `')'` 的字符串，找出最长的包含有效括号的子串的长度。

```
输入: ")()())"
输出: 4
解释: 最长有效括号子串为 "()()"
```

## （1）左右各扫描一遍

```python
class Solution:
    def longestValidParentheses(self, s: str) -> int:
        l = len(s)
        left = 0; right=0
        maxLen = 0;resLen = 0
        for i in range(l):
            if(s[i]=='('):
                left += 1
            elif(s[i]==')'):
                right += 1
            if(right==left):
                maxLen = left+right
                resLen = max(resLen,maxLen)
            elif(right>left):
                resLen = max(resLen,maxLen)
                maxLen = 0
                left  = 0
                right = 0
            
        j = l-1;maxLen = 0;left = 0;right = 0
        while(j>=0):
            if(s[j]=='('):
                left += 1
            elif(s[j]==')'):
                right += 1
            if(left == right):
                maxLen = left+right
                resLen = max(resLen,maxLen)
            elif(left>right):
                resLen = max(resLen,maxLen)
                maxLen = 0
                left = 0
                right = 0
            j-=1
        return resLen
                
            
```

时间复杂度o(n),两次遍历。

空间复杂度o(1)

## (2)动态规划

待补。